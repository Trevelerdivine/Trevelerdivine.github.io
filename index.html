<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>原神ダメージ計算機</title>
  </head>
  <body>
    <h1>原神ダメージ計算機</h1>
    <label for="at">攻撃力:</label>
    <input type="number" id="at" min="1"><br>
    <label for="ba">基礎攻撃力:</label>
    <input type="number" id="ba" min="1"><br>
    <label for="atc">サブステ攻撃力実数値:</label>
    <input type="number" id="atc" min="0"><br>
    <label for="emc">サブステ元素熟知:</label>
    <input type="number" id="emc" min="0"><br>
    <label for="cr">会心率(%):</label>
    <input type="number" id="cr" min="0" max="100" step="1"><br>
    <label for="cd">会心ダメージ(%):</label>
    <input type="number" id="cd" min="50" step="1"><br>
    <button onclick="calculateDamage()">計算する</button><br>
    <p id="result"></p>
    <script>
      function calculateDamage() {
        let at = parseInt(document.getElementById("at").value);//at=attack=攻撃力
        let ba = parseInt(document.getElementById("ba").value);//ba=base_attack=基礎攻撃力
        let atc = parseInt(document.getElementById("atc").value);//atc=attack_const=サブステ攻撃力実数値
        let emc = parseInt(document.getElementById("emc").value);//emc=elemental_mastary_const=サブステ元素熟知
        let cr= parseFloat(document.getElementById("cr").value);//cr=crit_rate=会心率
        let cd = parseFloat(document.getElementById("cd").value);//cd=crit_damage=会心ダメージ
	　　let dar = 0.001;//微小攻撃力幅
        
        // スコア計算
        let sc = (cr-5)*2+(cd-112.2)+(at-atc-311)/ba*100+emc;

        // スコア配分元素熟知
        let em = emc + sc*3;

        let result = "元素熟知: " + em.toFixed();
        
        document.getElementById("result").innerHTML = result;
      }
    </script>
  </body>
</html>
